# Internationalization (i18n)

All user-visible strings are externalized and loaded from locale files. The UI uses a single function `t(key)` to resolve display text.

## Where locale files live

- `src/renderer/locales/en.json` — English (default)
- `src/renderer/locales/ko.json` — Korean
- Add more languages by adding `src/renderer/locales/<locale>.json` and registering in `src/renderer/i18n.ts` in `localeModules`.

## Key naming convention

- `ui.*` — Panel labels, buttons, generic UI (e.g. `ui.play`, `ui.reset`, `ui.material`)
- `materials.*` — Material preset names (e.g. `materials.cotton`, `materials.silk`)
- `patterns.*` — Sample garment names (e.g. `patterns.tshirt`, `patterns.scarf`)
- `motions.*` — Motion names (e.g. `motions.idle`, `motions.walk`)
- `avatars.*` — Avatar names (e.g. `avatars.mannequin`)
- `errors.*` — Error messages (e.g. `errors.webgpu`, `errors.loadFailed`)

## How to add a new locale

1. Create `src/renderer/locales/<code>.json` with the same keys as `en.json` and translated values.
2. In `src/renderer/i18n.ts`, add an entry to `localeModules`:
   - `'<code>': () => import('./locales/<code>.json')`
3. In the UI language dropdown (e.g. in `src/renderer/ui/controls.ts`), add an option for the new locale.

## How to add or change a string

1. Add or edit the key in all locale JSON files (e.g. `"ui.myLabel": "My Label"`).
2. In code, use only `t('ui.myLabel')` for that text; do not hard-code the string in the UI.

## Persistence

The selected language is stored in `localStorage` under the key `cloth-sim-locale` and restored on next load. If not set, the app uses the system language (e.g. `navigator.language`) or falls back to English.
